"use strict";

const form = lacoLib('./libs/form');
const taxonomyType = require('./type');
const taxonomyProvider = require('./provider');

let instant = class TaxonomyInstant {
    constructor(taxId, taxType) {
        this.taxId = taxId;
        this.taxType = taxType;
        this.taxonomyProfile = taxonomyType.get(taxType);
    }

    getForm() {
        if(!this.taxonomyProfile) return null;

        let taxonomyItemDataProvider = () => {
            return this.taxId ? taxonomyProvider.withIds(taxId) : new Promise((resolve, reject) => {
                resolve({});
            });
        }

        taxonomyItemDataProvider().then(taxItemData => {
            console.log(taxItemData);
        }).catch(e => console.log(e));
    }
}

module.exports = instant;