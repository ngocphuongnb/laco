"use strict";
const mediaModel = require('./model');
const g = lacoLib('./libs/global');

let add = mediaData => {
    let _media = new g.models.media(mediaData);
    return _media.save();
}

let get = data => {
    return mediaModel.find(data);
}

let withIds = ids => {
    if(!_.isArray(ids)) ids = [ids];
    ids = _.map(ids, id => 1*id);
    let findMethod = ids[1] ? 'find' : 'findOne';
    return mediaModel[findMethod]({intId: id}).exec();
}

exports.model = mediaModel;
exports.get = get;
exports.add = add;
exports.withIds = withIds;