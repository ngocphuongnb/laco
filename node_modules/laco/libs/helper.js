"use strict";
const path = require('path');
const randomstring = require("randomstring");

global.lacoLib = moduleFile => {
    return require(path.join(LACO_ROOT, moduleFile));
}

const caller = () => {
    try {
        var err = new Error();
        var callerfile;
        var currentfile;

        Error.prepareStackTrace = function (err, stack) { return stack; };

        err.stack.shift();
        currentfile = err.stack.shift();

        while (err.stack.length) {
            callerfile = err.stack.shift();
            if(currentfile !== callerfile) return callerfile;
        }
    } catch (err) {}
    return undefined;
}

exports.randomstring = randomstring;
exports.caller = caller;