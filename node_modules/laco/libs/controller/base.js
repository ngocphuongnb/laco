'use strict';

const helper = lacoLib('libs/helper');
const logger = lacoLib('libs/logger');

class BaseController {
    constructor(manager, controller) {
        this.manager = manager;
        this.controller = controller;
        this.caller = helper.caller();
        this.className = this.caller.method;
    }
    
    view(viewName, context, options) {
        const defaultUI = this.manager.subapp.laco.ui.defaultUI.name;
        this.useUI = this.manager.subapp.laco.ui.registerdUIs[defaultUI];
        let view = this.useUI.views[viewName] || null;

        if (!view) {
            return logger.error('[lib.controller.base] Invalid view: ' + viewName);
        }

        view.render({}, context.res);
    }
}

module.exports = BaseController;