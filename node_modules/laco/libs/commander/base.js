'use strict';

const _ = require('lodash');
const colors = require('colors');

class Command {
    constructor() {
        this.name = null;
        this.description = null;
        this.options = [];
    }

    out(msg = '', extra) {
        process.stdout.write(`  ${msg}\n`);
        if (extra) {
            process.stdout.write('  ' + JSON.stringify(extra, null, 4) + '\n');
        }
    }

    error(msg = '', extra) {
        process.stdout.write(`  ${colors.red(msg)}\n`);
        if (extra) {
            process.stdout.write('  ' + JSON.stringify(extra, null, 4) + '\n');
        }
    }

    info(msg = '', extra) {
        process.stdout.write(`  ${colors.green(msg)}\n`);
        if (extra) {
            process.stdout.write('  ' + JSON.stringify(extra, null, 4) + '\n');
        }
    }

    option(options) {
        if (!_.isArray(options)) {
            options = [options];
        }

        this.options = _.concat(this.options, options);
    }
}

module.exports = Command;