"use strict";

var path = require('path');
var _ = require('underscore');
var helper = require(path.join(LIBS_DIR, 'helper'));
module.exports = function(name, data) {
    var options = _.isObject(data.options) ? data.options : {};
    var fieldId = name.replace('[', '_');
    fieldId = fieldId.replace(']', '_');
    var fe = '<div id="' + fieldId + '" class="nb-checkbox-group col s12 m' + data.cols + '">\
        <div class="input-field nb-checkbox-field-label"><b>' + data.label + '</b></div>';
    _.mapObject(options, function(ov, ok) {
        var checked = (data.value.indexOf(ok) > -1) ? ' checked' : '';
        fe += '\
        <div class="input-field nb-checkbox-field">\
            <input name="' + name + '[]" class="filled-in" id="route-selected-' + ok + '" type="checkbox" value="' + ok + '"' + checked + ' />\
            <label for="route-selected-' + ok + '">' + ov + '</label>\
        </div>';
    });
    fe += '</div>';
    return fe;
};