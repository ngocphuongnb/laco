"use strict";

module.exports = function(name, data) {
    var fieldId = name.replace('[', '_');
    fieldId = fieldId.replace(']', '_');
    var f = '\
    <div class="input-field image-field col s12 ' + data.cols + '">\
        <input id="' + fieldId + '" type="hidden" name="' + name + '" value="' + data.value + '" />\
        <label for="' + fieldId + '" class="">' + data.label + '</label>\
        <div class="card">\
            <div id="thumb-' + fieldId + '" class="card-image waves-effect waves-block waves-light image-thumb-placeholder">';
                if(data.value != '') {
                    var thumbSrc = data.value.replace('/data/uploads/', '/data/thumbs/');
                    var thumbss = thumbSrc.split('.');
                    var thumbExt = thumbss.pop();
                    var thumbName = thumbss.pop();
                    thumbName += '-ctx400x320';
                    thumbss.push(thumbName);
                    thumbss.push(thumbExt);
                    f += '<img class="activator" src="' + thumbss.join('.') + '">';
                }
            f += '\
            </div>\
            <div class="card-content padding10 txt-right">\
                <a class="btn waves-effect waves-light select-media-btn nb-add-image-btn" data-field="' + fieldId + '">' + lang('Select image') + '</a>\
            </div>\
        </div>\
    </div>';
    return f;
};