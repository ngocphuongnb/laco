"use strict";

var path = require('path');
var _ = require('underscore');
var helper = require(path.join(LIBS_DIR, 'helper'));
module.exports = function(name, data) {
    var options = _.isObject(data.options) ? data.options : {};
    var fieldId = name.replace('[', '_');
    fieldId = fieldId.replace(']', '_');
    var fe = '\
    <div class="input-field nb-select-field col s12 m' + data.cols + '">\
        <select id="' + fieldId + '" name="' + name + '" data-value="' + data.value + '">';
    if(typeof data.required == 'undefined' || data.required == false) {
        var placeholder = _.isEmpty(options) ? lang('Nothing to select') : lang('Select');
        fe += '<option value="">' + placeholder + '</option>';
    }
    _.mapObject(options, function(ov, ok) {
        var selected = (ok == data.value) ? ' selected' : '';
        fe += '<option value="' + ok + '"' + selected + '>' + ov + '</option>';
    });
    fe += '\
        </select>\
        <label for="' + fieldId + '">' + data.label + '</label>\
    </div>';
    return fe;
};



