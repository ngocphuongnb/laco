window.triggerPipeLoadedActions = function() {
    $.each($('.image-field-thumb'), function() {
        $(this).width($(this).width());
        $(this).height($(this).width());
    })
}

$(function () {
    var fileChooserSelectors = ['.image-field-thumb', '.laco-choose-file', '.cke_button__media_icon']
    var lacoModal = new LacoModal({
        selector: fileChooserSelectors.join(','),
        type: 'iframe',
        src: function(elm) {
            var target = elm.data('target') || '__active_editor';
            var types = elm.data('types') || 'all';
            var multi = (elm.data('multi') == 0 ) ? 0 : 1;
            return `/admin/media/modal?target=${target}&types=${types}&multi=${multi}`;
        }
    });
    triggerPipeLoadedActions();
    //Textare auto growth
    autosize($('textarea.auto-growth'));

    //Datetimepicker plugin
    $('.datetimepicker').bootstrapMaterialDatePicker({
        format: 'dddd DD MMMM YYYY - HH:mm',
        clearButton: true,
        weekStart: 1
    });

    $('.datepicker').bootstrapMaterialDatePicker({
        format: 'dddd DD MMMM YYYY',
        clearButton: true,
        weekStart: 1,
        time: false
    });

    $('.timepicker').bootstrapMaterialDatePicker({
        format: 'HH:mm',
        clearButton: true,
        date: false
    });
});