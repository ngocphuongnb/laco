window.triggerPipeLoadedActions = function() {
    $.each($('.image-field-thumb'), function() {
        $(this).width($(this).width());
        $(this).height($(this).width());
    })
}

$(function () {
    var fileChooserSelectors = ['.image-field-thumb', '.laco-choose-file']
    var lacoModal = new LacoModal({
        selector: fileChooserSelectors.join(','),
        type: 'iframe',
        src: function(elm) {
            return `/admin/media/modal?target=${elm.data('target')}&types=${elm.data('types')}&multi=${elm.data('multi')}`;
        }
    });
    triggerPipeLoadedActions();
    //Textare auto growth
    autosize($('textarea.auto-growth'));

    //Datetimepicker plugin
    $('.datetimepicker').bootstrapMaterialDatePicker({
        format: 'dddd DD MMMM YYYY - HH:mm',
        clearButton: true,
        weekStart: 1
    });

    $('.datepicker').bootstrapMaterialDatePicker({
        format: 'dddd DD MMMM YYYY',
        clearButton: true,
        weekStart: 1,
        time: false
    });

    $('.timepicker').bootstrapMaterialDatePicker({
        format: 'HH:mm',
        clearButton: true,
        date: false
    });
});