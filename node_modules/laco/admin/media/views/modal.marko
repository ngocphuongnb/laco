$ let common = data._common;
<lasso-page dependencies=common.dependencies flags=common.pageFlags />
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    $!{common.csrf_meta}
    <title>Laco media browser</title>
    <lasso-head />
    <script>
        if(!window.laco) window.laco = ${common.lacoFrontObj};
        window.lacoMedia = {
            uploadPath: laco.basePath + '/media/upload',
            isModal: true,
            targetField: '${data.targetField}',
            isMulti: ${data.isMulti}
        };
    </script>
</head>

<body class="${common.pageFlags.join(' ')} theme-cyan">
    <section class="content row clearfix media-modal-content">
        <div class="col-lg-10 col-md-9 col-sm-6 col-xs-6 media-modal-main">
            <ul class="nav nav-tabs tab-nav-right media-main-tab" role="tablist">
                <li role="presentation" class="active"><a href="#media-browse" data-toggle="tab">Browse Medias</a></li>
                <li role="presentation"><a href="#media-upload" data-toggle="tab">Upload</a></li>
            </ul>
            <div class="tab-content">
                <div role="tabpanel" class="tab-pane fade in active" id="media-browse">
                    <await(data from data.mediasProvider) client-reorder>
                        <await-placeholder>Loading medias...</await-placeholder>
                        <await-timeout>Request timed out</await-timeout>
                        <await-error>Request errored</await-error>
                        $ console.log(data.paging);
                        <div for(media in data.items) class="col-lg-2 col-md-3 col-sm-6 col-xs-12 ready-media media-thumb ${media.imageIdt} media-${media._id}" data-alt="${media.alt}" data-date="${media.date}" data-description="${media.description}" data-mimetype="${media.mimetype}" data-name="${media.name}" data-size="${media.size}" data-source="${media.source}" data-thumb="${media.thumb('300x300')}" data-id="${media._id}" data-ext="${media.ext}">
                            <div class="detail">
                                $!{media.thumbElm('300x300')}
                                <div class="info">
                                    <div class="name"><span>${media.name}</span></div>
                                    <div class="size">${bytesToSize(media.size)}</div>
                                </div>
                            </div>
                            <div class="remove"></div>
                            <div class="message"><span data-dz-errormessage></span></div>
                        </div>
                    </await>
                </div>
                <div role="tabpanel" class="tab-pane fade row clearfix laco-upload-holder" id="media-upload" style="height: Calc(100% - 41px)">
                    <div class="dz-message tips">
                        <h3>Drag and drop medias here</h3>
                        <div>or</div>
                        <button type="button" class="btn btn-primary m-t-10 m-b-30 waves-effect">Browse media files </button>
                    </div>
                </div>
            </div>
        </div>
        <aside id="rightsidebar" class="col-lg-2 col-md-3 col-sm-6 col-xs-6 media-right-bar">
            <div#laco-media-previewer.media-thumb>
            </div>
            <div class="media-trigger">
                <button class="btn btn-primary" disabled id="insert-medias">Insert media</button>
            </div>
        </aside>
        <div id="laco-dz-preview-tpl">
            <div class="col-lg-2 col-md-3 col-sm-6 col-xs-12 dz-preview dz-file-preview media-thumb">
                <div class="dz-details detail">
                    <div class="thumb">
                        <img data-dz-thumbnail />
                    </div>
                    <div class="dz-progress progress">
                        <span class="dz-upload progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" data-dz-uploadprogress></span>
                    </div>
                    <div class="info">
                        <div class="dz-filename name"><span data-dz-name></span></div>
                        <div class="dz-size size" data-dz-size></div>
                    </div>
                </div>
                <div class="remove"></div>
                <div class="dz-mark dz-success-mark"></div>
                <div class="dz-mark dz-error-mark"></div>
                <div class="dz-message message"><span data-dz-errormessage></span></div>
            </div>
        </div>
    </section>
    <lasso-body />
</body>
</html>